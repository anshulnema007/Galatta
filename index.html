<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Galatta</title>

    <link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src='http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js'></script>
    <script src="js/jquery.min.js"></script>
    <script src='js/bootstrap.min.js'></script>
    <script src='js/slide-menu.js'></script>

    <script>
        $(document).ready(function() {
            // Handler for .ready() called.

            $('#badminton-container').hide();
            $('#carrom-container').hide();
            $('#chess-container').hide();
            $('#cricket-container').hide();
            $('#dumb-container').hide();
            $('#quiz-container').hide();
            $('#home-link').hide();
            $('#houses-container').hide();
            $('#score-container').hide();
            $('#discussion-container').hide();
            $('#coordinators-container').hide();
            $('#home-container').hide();
            $('#home-container').fadeIn("slow");

        });


        function writeEventDetails(val) {
            console.log(val);
            console.log("#" + val + "-dynamic-data");




         //   var jsonData = '[ { "gameName":"chess", "timeOfEvent":"Thu 2015.07.30 at 06:02:44 PM IST", "team1":"T1", "team2":"T2", "plr1":"P1", "plr2":"P2", "roundName":"3rd" }, { "gameName":"chess", "timeOfEvent":"Thu 2015.07.30 at 06:03:31 PM IST", "team1":"T3", "team2":"T4", "plr1":"P1", "plr2":"P2", "roundName":"4th" }, { "gameName":"chess", "timeOfEvent":"Thu 2015.07.30 at 06:03:54 PM IST", "team1":"T3", "team2":"T4", "plr1":"P1", "plr2":"P2", "roundName":"Final" } ]';

	   
	   
	   var jsonData;

$.ajax({
        url: 'https://api.myjson.com/bins/4h03a',
        dataType: 'json',
        success: function(response) {
            jsonData = response;
        }
});
	   
	   
	    console.log(jsonData);
	   
	   
            var obj = jQuery.parseJSON(jsonData);

            count = 0;
		
	    dataToDisplay='';	
		
            $.each(obj, function(key, value) {
                console.log(value.gameName);

                if (value.gameName == val) {
                    team1 = value.team1;
                    team2 = value.team2;
                    player1 = value.plr1;
                    player2 = value.plr2;
                    timeOfEvent = value.timeOfEvent;
                    roundName = value.roundName;
                    count++;
                    console.log(count);
                    
                    
                    dataToDisplay += '<div class="panel panel-default"><div class="panel-heading row"><span class="col-xs-7"><span class="team1">' + team1 + '</span> vs <span class="team2">' + team2 + '</span></span><span class="col-xs-5  pull-right"><span class="matchRound">' + roundName + '</span> Round</span></div><div class="panel-body"><span class="player1">' + player1 + '</span> vs <span class="player2">' + player2 + '</span><hr><span class="timeOfmatch">' + timeOfEvent + '</span></div></div>';


                }
                if (count == 0) {
                    $("#" + val + "-dynamic-data").html('<span class="alert alert-danger col-xs-12">No ongoing activity!</span>');
                }
                else
                {
                	 $("#" + val + "-dynamic-data").html(dataToDisplay);
                }




            });

            console.log("inside writeEventDetails done");



        }

        function load_event(val) {
            //console.log(val.value);
            $('#home-container').fadeOut("slow");

            $("#" + val.id + "-container").fadeIn("slow");
            console.log("#" + val.id + "-container");
            $('#home-link').fadeIn("slow");

            writeEventDetails(val.id);
            console.log("done");
        }

        function load_linkdata(val) {
            //console.log(val.value);
            $('#home-container').fadeOut("slow");

            $("#" + val.id + "-container").fadeIn("slow");
            console.log("#" + val.id + "-container");
            $('#home-link').fadeIn("slow");

            console.log("done");
        }
    </script>
    <style media="screen" type="text/css">
        .home-links {
            margin-top: 10px;
            width: 44%;
            margin-left: 3%;
            margin-right: 3%;
            text-align: center;
            text-decoration: none;
            color: inherit;
        }
        
        .home-links:hover {
            text-decoration: none;
            color: inherit;
        }
        
        #event-container .row {
            margin: 0px;
        }
    </style>
</head>

<body>
    <div class="navbar navbar-default navbar-fixed-top" role="navigation" id="slide-nav">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-toggle">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <a class="navbar-brand" href="http://galatta.tcs.com">Galatta .. yeeee</a>
            </div>
            <div id="slidemenu">
                <ul class="nav navbar-nav">
                    <li>
                        <hr>
                        </hr>
                    </li>
                    <li><a href="index.html">Home</a></li>
                    <li>
                        <hr>
                        </hr>
                    </li>
                    <li><a href="index.html">About US</a></li>
                    <li>
                        <hr>
                        </hr>
                    </li>
                    <li><a href="#">Contacts</a></li>
                    <li>
                        <hr>
                        </hr>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div id="page-content">
        <div id="home-container">
            <div class="container">

                <div class="row">
                    <a href="#" class="col-xs-6 well home-links" id="houses" onclick="load_linkdata(this); return false;">HOUSES</a>

                    <a href="#" class="col-xs-6 well home-links pull-right" id="score" onclick="load_linkdata(this); return false;">SCORE</a>
                </div>

                <div class="row">
                    <a href="#" class="col-xs-6 well home-links" id="discussion" onclick="load_linkdata(this); return false;">DISCUSSION</a>
                    <a href="#" class="col-xs-6 well home-links pull-right" id="coordinators" onclick="load_linkdata(this); return false;">COORDINATORS</a>
                </div>

                <div class="events">
                    <h3>EVENTS</h3>
                    <div class="list-group">
                        <a href="#" class="list-group-item" id="badminton" onclick="load_event(this); return false;">Badminton</a>
                        <a href="#" class="list-group-item" id="cricket" onclick="load_event(this); return false;">Cricket</a>
                        <a href="#" class="list-group-item" id="chess" onclick="load_event(this); return false;">Chess</a>
                        <a href="#" class="list-group-item" id="carrom" onclick="load_event(this); return false;">Carom</a>
                        <a href="#" class="list-group-item" id="dumb" onclick="load_event(this); return false;"> Dumb Charades</a>
                        <a href="#" class="list-group-item" id="quiz" onclick="load_event(this); return false;">Quiz</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div id="houses-container">
            <h3>HOUSES</h3>
            <hr>
            <p class="text-info">Information</p>
        </div>
        <div id="score-container">
            <h3>SCORE</h3>
            <hr>
            <p class="text-info">Information</p>
        </div>
        <div id="discussion-container">
            <h3>DISCUSSION</h3>
            <hr>
            <p class="text-info">Information</p>
        </div>
        <div id="coordinators-container">
            <h3>COORDINATORS</h3>
            <hr>
            <p class="text-info">Information</p>
        </div>
    </div>

    <div id="event-container">
        <div class="container">
            <div id="badminton-container">
                <h3>Badminton</h3>
                <hr>
                <div id="badminton-dynamic-data">
                </div>
            </div>
            <div id="chess-container">
                <h3>Chess</h3>
                <hr>
                <div id="chess-dynamic-data">
                </div>
            </div>

            <div id="carrom-container">
                <h3>Carrom</h3>
                <hr>
                <div id="carrom-dynamic-data">
                </div>
            </div>

            <div id="cricket-container">
                <h3>Cricket</h3>
                <hr>
                <div id="cricket-dynamic-data">
                </div>
            </div>

            <div id="quiz-container">
                <h3>Quiz</h3>
                <hr>
                <div id="quiz-dynamic-data">
                </div>
            </div>

            <div id="dumb-container">
                <h3>Dumb Charades</h3>
                <hr>
                <div id="dumb-dynamic-data">
                </div>
            </div>
            <div id="home-link">
                <br>
                <a href="index.html"><span class="glyphicon glyphicon-home" ></span></a>
            </div>
        </div>
    </div>
    </div>
</body>

</html>
